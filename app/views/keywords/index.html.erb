<% @page_category = 'mypage' %>

<!-- メイン -->
<div class="pt-5 pb-5 container">
  <div class="p-3 pt-5">
    <h3>キーワード一覧</h3>
  </div>

  <p id="notice"><%= notice %></p>

  <div class="alert alert-info px-3" role="alert">
    ここに登録されているキーワードリストは、毎日検索結果を調査し、更新します。<br>
    件数に変化があった場合は、メールあるいはプッシュ通知にてお知らせします。
  </div>

  <table class="table">
    <thead>
      <tr>
        <th>ユーザー名</th>
        <th>キーワード</th>
        <th>ジャンル</th>
        <th>ヒット数</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @keywords.each do |keyword| %>
        <tr>
          <td><%= keyword.user.username %></td>
          <td><%= keyword.keyword %></td>
          <td><%= keyword.genre %></td>
          <td><%= keyword.item_count %></td>
          <td><%= link_to '表示', keyword %></td>
          <td><%= link_to '編集', edit_keyword_path(keyword) %></td>
          <td><%= link_to '削除', keyword, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <%= link_to 'キーワードの新規登録', new_keyword_path %>

</div>
